<!DOCTYPE html>
<html>
<head>
    <title>Blog & Todo Dashboard</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
        }
        h2 {
            margin-top: 20px;
        }
        .container {
            width: 80%;
            margin: auto;
        }
        .item {
            background: #ffffff;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            border-left: 4px solid #007BFF;
        }
        .error {
            color: red;
            font-weight: bold;
        }
        .completed {
            color: green;
            font-weight: bold;
        }
        .pending {
            color: blue;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>Blog Posts</h2>
    <div id="posts"></div>

    <h2>Todo List</h2>
    <div id="todos"></div>
</div>

<script>
/* ==============================
   Module Pattern Implementation
   ============================== */

const AppModule = (function () {

    const POSTS_API = "https://jsonplaceholder.typicode.com/posts";
    const TODOS_API = "https://jsonplaceholder.typicode.com/todos";

    const postsContainer = document.getElementById("posts");
    const todosContainer = document.getElementById("todos");

    // Generic fetch function
    function fetchData(url) {
        return fetch(url)
            .then(response => {
                if (!response.ok) {
                    throw new Error("Failed to fetch data");
                }
                return response.json();
            });
    }

    // Display posts
    function displayPosts(posts) {
        posts.slice(0, 5).forEach(post => {
            const div = document.createElement("div");
            div.className = "item";
            div.innerHTML = `
                <strong>${post.title}</strong>
                <p>${post.body}</p>
            `;
            postsContainer.appendChild(div);
        });
    }

    // Display todos
    function displayTodos(todos) {
        todos.slice(0, 5).forEach(todo => {
            const statusClass = todo.completed ? "completed" : "pending";
            const statusText = todo.completed ? "Yes" : "No";

            const div = document.createElement("div");
            div.className = "item";
            div.innerHTML = `
                <strong>Task:</strong> ${todo.title}<br>
                <strong>Completed:</strong>
                <span class="${statusClass}">${statusText}</span>
            `;
            todosContainer.appendChild(div);
        });
    }

    // Error display
    function showError(container, message) {
        container.innerHTML = `<p class="error">${message}</p>`;
    }

    // Public methods
    function init() {
        fetchData(POSTS_API)
            .then(displayPosts)
            .catch(() => showError(postsContainer, "Unable to load posts"));

        fetchData(TODOS_API)
            .then(displayTodos)
            .catch(() => showError(todosContainer, "Unable to load todos"));
    }

    return {
        init
    };

})();

// Initialize application
AppModule.init();
</script>

</body>
</html>

